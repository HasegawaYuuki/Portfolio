<section class="review-show-bottom">
  <div class="card">
    <div class="card-header">
      <h6>コメント一覧  <%= review.review_comments.count %>件</h6>
    </div>
    <ul class="list-group list-group-flush">
      <% review.review_comments.each do |review_comment| %>
        <li class="list-group-item">
          <%= image_tag review_comment.customer.get_image(50,50), class:"rounded-circle" %>
          <!--コメントが「空」のままだとエラーが出るのでnil?=trueの時を追加-->
          <% if review_comment.comment.nil? %>
            <%= review_comment.comment %>
          <% else %>
            <!--コメントが「空」じゃない時は正常に反映する-->
            <%= safe_join(review_comment.comment.split("\n"),tag(:br)) %>
          <% end %>
          <br />
          <%= review_comment.customer.name %>
          <div id="review_comment">
            <% if review_comment.customer == current_customer %>
              <%= link_to "削除", review_review_comment_path(review, review_comment), method: :delete, "data-confirm" => "本当に消しますか？",class:"btn btn-outline-danger", remote:true, data: {"turbolinks" => false}  %>
            <% end %>
          </div>
        </li>
      <% end %>
    </ul>
  </div>
</section>